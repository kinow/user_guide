
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Advanced Inputs &#8212; Common Workflow Language User Guide 0.1 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    
      
      <link rel="icon" sizes="16x16" href="../_static/images/favicons/cwl/favicon-16x16.png">
      
    
      
      <link rel="icon" sizes="32x32" href="../_static/images/favicons/cwl/favicon-32x32.png">
      
    
      
      <link rel="icon" sizes="96x96" href="../_static/images/favicons/cwl/favicon-96x96.png">
      
    
      
      <link rel="icon" sizes="128x128" href="../_static/images/favicons/cwl/favicon-128.png">
      
    
      
      <link rel="icon" sizes="196x196" href="../_static/images/favicons/cwl/favicon-196x196.png">
      
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/CWL-Logo-HD-cropped2.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../quick-start.html">
  Quick start
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../prerequisites.html">
  Prerequisites
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../basic-concepts.html">
  Basic Concepts
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../core-concepts/index.html">
  Core Concepts
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../how-tos.html">
  How-Tos
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../tutorials.html">
  Tutorials
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../faq.html">
  FAQ
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../extras.html">
  Extras
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links d-none d-md-block" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../quick-start.html">
   Quick start
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../prerequisites.html">
   Prerequisites
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../basic-concepts.html">
   Basic Concepts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../core-concepts/index.html">
   Core Concepts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../how-tos.html">
   How-Tos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials.html">
   Tutorials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../faq.html">
   FAQ
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extras.html">
   Extras
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/common-workflow-language/user_guide/edit/main/11-records/index.md">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="advanced-inputs">
<h1>Advanced Inputs<a class="headerlink" href="#advanced-inputs" title="Permalink to this headline">#</a></h1>
<p>Sometimes an underlying tool has several arguments that must be provided
together (they are dependent) or several arguments that cannot be provided
together (they are exclusive).  You can use records and type unions to group
parameters together to describe these two conditions.</p>
<p><em>record.cwl</em></p>
<div class="highlight-cwl notranslate"><div class="highlight"><pre><span></span><span class="c1">#!/usr/bin/env cwl-runner</span><span class="w"></span>

<span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"></span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CommandLineTool</span><span class="w"></span>
<span class="nt">inputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">dependent_parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">record</span><span class="w"></span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dependent_parameters</span><span class="w"></span>
<span class="w">      </span><span class="nt">fields</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">itemA</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">          </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-A</span><span class="w"></span>
<span class="w">        </span><span class="nt">itemB</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">          </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-B</span><span class="w"></span>
<span class="w">  </span><span class="nt">exclusive_parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">record</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">itemC</span><span class="w"></span>
<span class="w">        </span><span class="nt">fields</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">itemC</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">            </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-C</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">record</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">itemD</span><span class="w"></span>
<span class="w">        </span><span class="nt">fields</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">itemD</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">            </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-D</span><span class="w"></span>
<span class="nt">outputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">example_out</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stdout</span><span class="w"></span>
<span class="nt">stdout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">output.txt</span><span class="w"></span>
<span class="nt">baseCommand</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo</span><span class="w"></span>
</pre></div>
</div>
<p><em>record-job1.yml</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">dependent_parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemA</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">one</span><span class="w"></span>
<span class="nt">exclusive_parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemC</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">three</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cwl-runner record.cwl record-job1.yml
Workflow error, try again with --debug <span class="k">for</span> more information:
Invalid job input record:
record-job1.yml:1:1: the <span class="sb">`</span>dependent_parameters<span class="sb">`</span> field is not valid because
                       missing required field <span class="sb">`</span>itemB<span class="sb">`</span>
</pre></div>
</div>
<p>In the first example, you canâ€™t provide <code class="docutils literal notranslate"><span class="pre">itemA</span></code> without also providing <code class="docutils literal notranslate"><span class="pre">itemB</span></code>.</p>
<p><em>record-job2.yml</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">dependent_parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemA</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">one</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemB</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">two</span><span class="w"></span>
<span class="nt">exclusive_parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemC</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">three</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">four</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cwl notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">$ cwl-runner record.cwl record-job2.yml</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">record-job2.yml:6:3</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">invalid field `itemD`, expected one of</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;itemC&#39;</span><span class="w"></span>
<span class="p p-Indicator">[</span><span class="nv">job record.cwl</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/home/example$ echo \</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-A \</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">one \</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-B \</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">two \</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">-C \</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">three &gt; /home/example/output.txt</span><span class="w"></span>
<span class="p p-Indicator">[</span><span class="nv">job record.cwl</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">completed success</span><span class="w"></span>
<span class="p p-Indicator">{</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;example_out&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="w"></span>
<span class="w">        </span><span class="s">&quot;location&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;file:///home/example/11-records/output.txt&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">        </span><span class="s">&quot;basename&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;output.txt&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">        </span><span class="s">&quot;class&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;File&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">        </span><span class="s">&quot;checksum&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;sha1$329fe3b598fed0dfd40f511522eaf386edb2d077&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">        </span><span class="s">&quot;size&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">23</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">        </span><span class="s">&quot;path&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;/home/example/output.txt&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="p p-Indicator">}</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">Final process status is success</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">$ cat output.txt</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">-A one -B two -C three</span><span class="w"></span>
</pre></div>
</div>
<p>In the second example, <code class="docutils literal notranslate"><span class="pre">itemC</span></code> and <code class="docutils literal notranslate"><span class="pre">itemD</span></code> are exclusive, so only <code class="docutils literal notranslate"><span class="pre">itemC</span></code>
is added to the command line and <code class="docutils literal notranslate"><span class="pre">itemD</span></code> is ignored.</p>
<p><em>record-job3.yml</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">dependent_parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemA</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">one</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemB</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">two</span><span class="w"></span>
<span class="nt">exclusive_parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">itemD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">four</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cwl-runner record.cwl record-job3.yml
<span class="o">[</span>job record.cwl<span class="o">]</span> /home/example$ <span class="nb">echo</span> <span class="se">\</span>
    -A <span class="se">\</span>
    one <span class="se">\</span>
    -B <span class="se">\</span>
    two <span class="se">\</span>
    -D <span class="se">\</span>
    four &gt; /home/example/output.txt
<span class="o">[</span>job record.cwl<span class="o">]</span> completed success
<span class="o">{</span>
    <span class="s2">&quot;example_out&quot;</span>: <span class="o">{</span>
        <span class="s2">&quot;location&quot;</span>: <span class="s2">&quot;file:///home/example/output.txt&quot;</span>,
        <span class="s2">&quot;basename&quot;</span>: <span class="s2">&quot;output.txt&quot;</span>,
        <span class="s2">&quot;class&quot;</span>: <span class="s2">&quot;File&quot;</span>,
        <span class="s2">&quot;checksum&quot;</span>: <span class="s2">&quot;sha1</span><span class="nv">$77</span><span class="s2">f572b28e441240a5e30eb14f1d300bcc13a3b4&quot;</span>,
        <span class="s2">&quot;size&quot;</span>: <span class="m">22</span>,
        <span class="s2">&quot;path&quot;</span>: <span class="s2">&quot;/home/example/output.txt&quot;</span>
    <span class="o">}</span>
<span class="o">}</span>
Final process status is success
$ cat output.txt
-A one -B two -D four
</pre></div>
</div>
<p>In the third example, only <code class="docutils literal notranslate"><span class="pre">itemD</span></code> is provided, so it appears on the
command line.</p>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>

<div class="container">
  <div class="row">
    <div class="col d-flex flex-row-reverse">
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/blob/main/CONTRIBUTING.md">Contributing</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/">Source</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/blob/main/CITATION">Cite</a>
        </li>
      </ul>
    </div>
  </div>
</div>

<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2013, CWL Project Team.<br>
</p>
    </div>
    
  </div>
</footer>

  </body>
</html>